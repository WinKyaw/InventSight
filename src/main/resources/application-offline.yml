# Offline Mode Profile Configuration
# Activate this profile with: --spring.profiles.active=offline
# This enables local login fallback when internet/IdP are unavailable

inventsight:
  security:
    # Enable local login endpoints for offline mode
    local-login:
      enabled: true
    
    # Disable OAuth2 login (IdP unavailable offline)
    oauth2:
      login:
        enabled: false
      # Disable resource server to avoid JwtDecoder dependency
      resource-server:
        enabled: false
    
    # JWT token expiration - can be extended for offline windows
    jwt:
      expiration: 86400000 # 24 hours (86,400,000 ms) for offline mode
      refresh-expiration: 604800000 # 7 days
  
  # JWT-only tenancy (still required in offline mode)
  tenancy:
    header:
      enabled: false
      validate-against-jwt: true

# OAuth2 Resource Server - disable issuer/jwk URIs to avoid network calls
spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: null
          jwk-set-uri: null
